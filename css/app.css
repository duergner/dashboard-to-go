/* Layout */

main article {
    display: flex;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 0px;
    width: 100%;
    height: 100%; }
    #grid { table-layout: fixed; white-space: nowrap; }
    #grid td { white-space: nowrap; overflow: visible; text-overflow: ellipsis; position: relative; }
    #grid td div.widget { position: absolute; top: 0; left: 0; text-align: right; z-index: 999; }
    #grid td div.widget ul { list-style: none; padding: 0; margin: 0 2px; }
    #grid td div.popup { position: absolute; z-index: 999 }
    #grid td div.popup input { width: 200px; margin-left: 1px; }
    #grid td div.widget .widget-resize-handler { width: 1.5em; height: 1.5em; bottom: 0px; right: 0px; position: absolute; }
   /* #grid td div.widget div { display: none; }*/
    #widget-bar {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 80px;
        display: flex;
        justify-content: center; }
    #widget-bar img { width: 70px; height: 70px; margin: 0 2px; }

/* Design */
body {
    color: gray;
    background-color: #091c2d;
    overflow: hidden; }

    article {
        background: #091c2d;
        -moz-osx-font-smoothing: grayscale; }
        #grid td { width: 3em; height: 3em; border: 1px solid #394954; -moz-osx-font-smoothing: grayscale; }
        #grid td div.widget { background-color: rgba(57, 73, 84, 0.7); border: 1px solid rgba(255, 255, 255, 0.7);}
            #grid td div.widget {  }
                #grid td div.widget .widget-resize-handler { opacity: 0.7; cursor: nwse-resize;}
                #grid td div.widget .edit-view {  display: block;  }
                #grid td div.widget .show-view {  display: none;  }
            #grid td div.widget.show { background: #394954 !important; }
                #grid td div.widget.show .edit-view {  display: none;  }
                #grid td div.widget.show .show-view {  display: block;  }
        #grid td div.html-widget { background: rgba(57, 73, 84, 0.7) url("../images/html.svg") no-repeat; }
            #grid td div.html-widget iframe { border: none; overflow: hidden; }
        #grid td div.grafana-widget { background: #394954 url("../images/grafana.svg") no-repeat; }
            #grid td div.grafana-widget iframe { border: none; }
        #grid td div.popup {
            display: none;
            top: 1em;
            left: 1em;
            background-color: #ffffff;
            padding: 1em;
            transition-duration: 0.3s;
            transition-property: opacity;
            -moz-border-radius: 10px;
            -webkit-border-radius: 10px;
            border-radius: 10px; /* future proofing */
            -khtml-border-radius: 10px; /* for old Konqueror browsers */ }
        #grid td div.edit div.popup {
            display: block !important;
        }
        #grid td div.popup input { border: 1px solid #dddddd; }
    #widget-bar .widget {
        border: 1px solid #394954; }
    #widget-templates { display: none; }

/* Media modes */
@media only screen
  and (orientation: portrait) {
    #grid td:nth-of-type(1n+13) {
        display: none; } }
@media only screen
  and (orientation: landscape) {
    #grid tr:nth-of-type(1n+13) {
        display: none; } }

/* Interaction */

main article {
    transition-duration: 0.3s;
    transition-property: transform; }
main #ok-action-clip {
    position: absolute;
    width: 0;
    height: 0; }
main #ok-action {
    cursor: default;
    -webkit-clip-path: polygon(0px 0px, 0px 90px, 90px 0px);
    clip-path: polygon(0px 0px, 0px 90px, 90px 0px);
    -webkit-clip-path: url("#ok-action-clip-path");
    clip-path: url("#ok-action-clip-path");
    transition-duration: 0.3s;
    transition-property: opacity;
    opacity: 0; }
main.edit #widget-bar {
    z-index: 100000; }

main.edit #ok-action {
    opacity: 1; }

main.edit article {
    transform: scale(0.75); }

    article table td.drop-target {
        background-color: white;
    }

    article #edit-action {
        position: absolute;
        top: 2px;
        left: 3px;
        transition-duration: 0.3s;
        transition-property: opacity; }
    main.edit article #edit-action {
        opacity: 0;
        pointer-events: none; }
        article header h1 {
            font-size: 0.8em;
            font-weight: 500; }
